{% extends "blog/base.html" %}

{% block title %}{{ post.title }}{% endblock %}

{% block content %}
  <article class="post-detail">
    <header class="post-header">
      <h1 class="post-title">{{ post.title }}</h1>
      <div class="post-meta">
        <p class="date">
            Published {{ post.publish }} by {{ post.author }}
        </p>
      </div>
    </header>

    <section class="post-body">
      {{ post.body|linebreaks }}
      <p>
        <a href="{% url 'blog:post_share' post.id %}">
          Поділитися
        </a>
      </p>
      {% with comments.count as total_comments %}
        <h2>{{ total_comments }} коментар{{ total_comments|pluralize }}</h2>
      {% endwith %}

      {% for comment in comments %}
          <div class="comment">
              <p class="info">Коментар {{ forloop.counter }} від {{ comment.name }} на {{ comment.created }}</p>
              <p>{{ comment.body|linebreaks }}</p>
          </div>
      {% empty %}
          <p>Немає коментарів.</p>
      {% endfor %}
      {% include "blog/post/includes/comment_form.html" %}
    </section>
  </article>
{% endblock %}